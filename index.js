import{e as ie,a as V,A as re,q as P,y as D,b as t,u as ye,k as $,d as f,c as le,E as De,R as Ie,f as q,L as ke}from"./vendor.js";import{D as Ce}from"./device-card.js";import"./index.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();const z="192.168.4.1";class Se{constructor(){this.socket=null,this.messageSubscribers=[],this.statusSubscribers=[],this.messageQueue=[],this.reconnectTimeout=null,this.pingIntervalId=null,this.pingIntervalMs=5e3,this.reconnectInterval=3e3,this.shouldReconnect=!0,this.enablePing=!1,this.url=""}connect(s){this.url=s,!(this.socket&&this.socket.readyState!==WebSocket.CLOSED)&&(this.notifyStatus("pending"),this.socket=new WebSocket(`ws://${this.url}:81`),this.socket.onopen=()=>{for(this.clearPing(),this.enablePing&&(this.pingIntervalId=setInterval(()=>{var n;((n=this.socket)==null?void 0:n.readyState)===WebSocket.OPEN&&this.socket.send(JSON.stringify({type:"ping"}))},this.pingIntervalMs)),this.notifyStatus("connected");this.messageQueue.length>0;){const n=this.messageQueue.shift();n&&this.socket.send(n)}},this.socket.onclose=()=>{this.notifyStatus("disconnected"),this.clearPing(),this.scheduleReconnect(this.url)},this.socket.onerror=()=>{this.notifyStatus("error"),this.clearPing(),this.scheduleReconnect(this.url)},this.socket.onmessage=n=>{let i;try{i=typeof i=="string"?i:JSON.parse(n.data)}catch(r){console.warn("[SocketService] Failed to parse message:",r),i=n.data}this.messageSubscribers.forEach(r=>r(i))})}send(s){const n=typeof s=="string"?s:JSON.stringify(s);this.socket&&this.socket.readyState===WebSocket.OPEN?this.socket.send(n):this.messageQueue.push(n)}onMessage(s){return this.messageSubscribers.push(s),()=>{this.messageSubscribers=this.messageSubscribers.filter(n=>n!==s)}}onStatus(s){return this.statusSubscribers.push(s),()=>{this.statusSubscribers=this.statusSubscribers.filter(n=>n!==s)}}notifyStatus(s){this.statusSubscribers.forEach(n=>n(s))}disconnect(){var s;this.shouldReconnect=!1,this.clearPing(),this.clearReconnect(),(s=this.socket)==null||s.close(),this.socket=null,this.messageSubscribers=[],this.statusSubscribers=[]}isConnected(){var s;return((s=this.socket)==null?void 0:s.readyState)===WebSocket.OPEN}scheduleReconnect(s){this.shouldReconnect&&(this.clearReconnect(),this.reconnectTimeout=setTimeout(()=>{console.warn("[SocketService] Reconnecting..."),this.socket=null,this.connect(s)},this.reconnectInterval))}reconnect(s){this.url=s||this.url,this.shouldReconnect=!1,this.clearPing(),this.clearReconnect(),this.socket&&(this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null),this.shouldReconnect=!0,this.connect(s)}clearPing(){this.pingIntervalId&&(clearInterval(this.pingIntervalId),this.pingIntervalId=null)}clearReconnect(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}}const b=new Se,xe="_drawer_1sl5f_1",We="_active_1sl5f_16",Te="_menu_1sl5f_22",Ne="_activeLink_1sl5f_43",j={drawer:xe,active:We,menu:Te,activeLink:Ne};var R=(e=>(e.PENDING="pending",e.CONNECTED="connected",e.DISCONNECTED="disconnected",e.ERROR="error",e))(R||{});const l=ie({socketURL:window.location.hostname,socketStatus:R.DISCONNECTED,wifiNetworks:[],settingsDriver:[],updatedDevices:{},rooms:[],groups:Array(16).fill(!1),countDrivers:void 0,onlineCountDrivers:void 0,testingDriverAddress:void 0,stateBus:void 0}),g=ie({isActiveMenu:!1,isLoadingUI:!1,isLoadingIntervalStatus:!1}),Me=()=>{const{url:e,route:s}=V(),n=re(null),i=P(r=>{g.value={...g.value,isActiveMenu:!1},s(r)},[]);return D(()=>{const r=a=>{n.current&&!n.current.contains(a.target)&&(g.value={...g.value,isActiveMenu:!1})};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]),t("div",{ref:n,className:`${j.drawer} ${g.value.isActiveMenu?j.active:""}`,children:t("div",{className:j.menu,children:[t("div",{className:e==="/service/devices"?j.activeLink:"",onClick:()=>i("/service/devices"),children:"Драйверы"}),t("div",{className:e==="/settings"?j.activeLink:"",onClick:()=>i("/settings"),children:"Wi-Fi"})]})})},Le="_header_1898u_1",Be="_burgerBtn_1898u_18",Ae="_burgerBtnItem_1898u_27",Pe="_stateBusIndicatorActive_1898u_80",$e="_stateBusIndicatorDisabled_1898u_89",ze="_title_1898u_98",B={header:Le,burgerBtn:Be,burgerBtnItem:Ae,stateBusIndicatorActive:Pe,stateBusIndicatorDisabled:$e,title:ze},Ee=e=>{if(e==="/")return"Главная";if(e==="/service/devices")return"Поиск драйверов";if(e==="/service/sensors")return"Сенсоры";if(e.startsWith("/service/devices/")){const i=V().path.split("/");return`Драйвер №${i[i.length-1]}`}return e.startsWith("/service/sensors/")?"Сенсор":e==="/service/rooms"?"Помещения и группы":e==="/settings"?"Настройки Wi-Fi":"Страница"},Re=({width:e=24,height:s=24,scale:n=1,color:i="#ffffff",backgroundColor:r="#141414",className:a=""})=>{const d=typeof e=="number"?e*n:e,u=typeof s=="number"?s*n:s;return t("svg",{width:d,height:u,viewBox:"0 0 439.488 443.88",class:`info-icon ${a}`,xmlns:"http://www.w3.org/2000/svg",children:[t("path",{d:"M219.744 443.88C341.103 443.88 439.488 344.51 439.488 221.94C439.488 99.368 341.103 0 219.744 0C98.387 0 0 99.368 0 221.94C0 344.51 98.387 443.88 219.744 443.88z",fill:i}),t("path",{d:"M219.744 392.714C313.128 392.714 388.83 316.255 388.83 221.94C388.83 127.623 313.128 51.166 219.744 51.166C126.362 51.166 50.659 127.623 50.659 221.94C50.659 316.255 126.362 392.714 219.744 392.714z",fill:r}),t("path",{d:"M196.963 300.274L246.494 300.172L246.494 261.69C246.494 251.252 251.36 241.39 264.38 232.849C277.399 224.312 313.744 206.988 313.744 161.44C313.744 115.89 275.577 84.582 243.494 77.94C211.416 71.298 176.659 75.668 151.994 102.69C129.907 126.887 125.253 146.027 125.253 188.255L174.744 188.255L174.744 178.44C174.744 155.939 177.347 132.186 209.494 125.69C227.04 122.144 243.488 127.648 253.244 137.19C264.404 148.102 264.494 172.69 246.711 184.933L218.815 203.912C202.543 214.35 196.963 225.971 196.963 243.051L196.963 300.274z",fill:i}),t("path",{d:"M196.638 370.692L196.638 319.687L246.85 319.687L246.85 370.692L196.638 370.692z",fill:i})]})};function Fe(){l.value.socketStatus;const e=V(),{params:s}=ye(),n=Ee(e.path);return t($,{children:[t("div",{className:B.header,children:t("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:"500px",margin:"0 auto"},children:[t("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"14px",flex:"0 0 auto"},children:t("div",{className:B.burgerBtn,onClick:()=>{g.value={...g.value,isActiveMenu:!g.value.isActiveMenu}},children:[t("div",{className:B.burgerBtnItem}),t("div",{className:B.burgerBtnItem}),t("div",{className:B.burgerBtnItem})]})}),t("div",{className:B.title,children:n}),t("div",{style:{display:"flex",gap:"8px"},children:[t("div",{className:l.value.socketStatus===R.CONNECTED?B.stateBusIndicatorActive:B.stateBusIndicatorDisabled}),t(Re,{})]})]})}),t(Me,{})]})}const Oe="_wrapper_h7i63_1",He={wrapper:Oe},je=({children:e})=>t("div",{className:He.wrapper,children:e});function F(){const[e,s]=f(!1),[n,i]=f(!1),[r,a]=f(!1),[d,u]=f(!1),[v,m]=f(!1),[p,w]=f(!1),[T,I]=f(!1);return D(()=>{const C=()=>{s(window.innerWidth<=599),i(window.innerWidth<=1100),a(window.innerWidth<=380),u(window.innerWidth<=360),m(window.innerWidth<=340),w(window.innerWidth<=400),I(window.innerWidth<=440)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),{isMobile:e,isMobile1100:n,isMobile380:r,isMobile360:d,isMobile340:v,isMobile400:p,isMobile440:T}}const Ge="_toastContainer_c3ggs_3",Ue="_toast_c3ggs_3",Ve="_fadeIn_c3ggs_1",qe="_fadeOut_c3ggs_1",Ke="_success_c3ggs_28",Qe="_warning_c3ggs_33",Je="_error_c3ggs_38",te={toastContainer:Ge,toast:Ue,fadeIn:Ve,fadeOut:qe,success:Ke,warning:Qe,error:Je},E=ie([]);let Xe=0;class Ye{create(s,n,i=3e3){const r=++Xe;E.value=[...E.value,{id:r,message:s,type:n}],setTimeout(()=>this.hide(r),i)}showSuccess(s,n){this.create(s,"success",n)}showWarning(s,n){this.create(s,"warning",n)}showError(s,n){l.value.socketStatus===R.CONNECTED?this.create(s,"error",n):this.create("Нет связи с мастером","error",n)}hide(s){E.value=E.value.filter(n=>n.id!==s)}}const _=new Ye,Ze=()=>{const[e,s]=f(E.value);return D(()=>E.subscribe(i=>s(i)),[]),t("div",{className:te.toastContainer,children:e.map(n=>t("div",{className:`${te.toast} ${te[n.type]}`,onClick:()=>_.hide(n.id),children:n.message},n.id))})},et="_layoutContainer_6dz2s_1",tt={layoutContainer:et},c={findDriver:null,updateDrivers:null,saveDrivers:null,saveSettingsDriver:null,startTestDriver:null,saveWIFI:null,scanWIFI:null,stateBus:null,saveAP:null},o={updateDrivers:0,saveDrivers:0,saveSettingsDriver:0,startTestDriver:0,saveWIFI:0,scanWIFI:0,saveAP:0},st=e=>{b.reconnect(e)},A=()=>{g.value={...g.value,isLoadingUI:!0}},ae=e=>{l.value={...l.value,onlineCountDrivers:e}},nt=()=>{g.value={...g.value,isLoadingIntervalStatus:!1}},K=()=>{g.value={...g.value,isLoadingIntervalStatus:!0}},it=()=>{c.findDriver!==null&&(clearTimeout(c.findDriver),c.findDriver=null),A(),b.send({driver:"find",cmd:"start"}),c.findDriver=window.setTimeout(()=>{_.showError("Нет связи с мастером"),y(),c.findDriver=null},5*6e4)};function ce(){c.updateDrivers&&(clearTimeout(c.updateDrivers),c.updateDrivers=null),o.updateDrivers=o.updateDrivers==null?0:o.updateDrivers,A(),b.send({driver:"update",cmd:"start"}),c.updateDrivers=window.setTimeout(()=>{o.updateDrivers<1?(o.updateDrivers=o.updateDrivers+1,ce()):(_.showError("Нет связи с мастером при обновлении"),y(),clearTimeout(c.updateDrivers),c.updateDrivers=null,o.updateDrivers=0)},3e4)}function rt(e){c.saveDrivers&&(clearTimeout(c.saveDrivers),c.saveDrivers=null),o.saveDrivers=o.saveDrivers==null?0:o.saveDrivers,A(),b.send({...e}),c.saveDrivers=window.setTimeout(()=>{o.saveDrivers<1?(o.saveDrivers=o.saveDrivers+1,rt(e)):(_.showError("Нет связи с мастером при сохранении"),y(),clearTimeout(c.saveDrivers),c.saveDrivers=null,o.saveDrivers=0)},1e4)}function ct(e){const s="saveSettingsDriver";c[s]&&(clearTimeout(c[s]),c[s]=null),o[s]=o[s]==null?0:o[s],A(),b.send({...e}),c[s]=window.setTimeout(()=>{o[s]<1?(o[s]=o[s]+1,ct(e)):(_.showError("Нет связи при обновлении драйвера"),y(),clearTimeout(c[s]),c[s]=null,o[s]=0)},1e4)}function Q(e){if(e.cmd==="stop"){b.send({...e}),J(void 0),clearTimeout(c.startTestDriver),c.startTestDriver=null,o.startTestDriver=0,J();return}const s="startTestDriver";c[s]&&(clearTimeout(c[s]),c[s]=null),o[s]=o[s]==null?0:o[s],b.send({...e}),J(Number(e==null?void 0:e.address)),c[s]=window.setTimeout(()=>{o[s]<1?(o[s]=o[s]+1,Q(e)):(_.showError("Нет связи при тестировании драйвера"),y(),clearTimeout(c[s]),c[s]=null,o[s]=0)},1e4)}function ne(e){A();const s="saveWIFI";c[s]&&(clearTimeout(c[s]),c[s]=null),o[s]=o[s]==null?0:o[s],b.send({...e}),c[s]=window.setTimeout(()=>{o[s]<1?(o[s]=o[s]+1,ne(e)):(_.showError("Нет связи при сохранеии WiFi настроек"),y(),clearTimeout(c[s]),c[s]=null,o[s]=0)},1e4)}function pe(e){A();const s="scanWIFI";c[s]&&(clearTimeout(c[s]),c[s]=null),o[s]=o[s]==null?0:o[s],b.send({...e}),c[s]=window.setTimeout(()=>{o[s]<1?(o[s]=o[s]+1,pe(e)):(_.showError("Нет связи при сканировании WiFi настроек"),y(),clearTimeout(c[s]),c[s]=null,o[s]=0)},1e4)}const y=()=>{g.value={...g.value,isLoadingUI:!1}},ot=e=>{l.value={...l.value,wifiNetworks:e}},lt=e=>{l.value={...l.value,socketStatus:e}},at=e=>{l.value={...l.value,rooms:e}},J=e=>{l.value={...l.value,testingDriverAddress:e}};b.onStatus(e=>{lt(e)});const fe=(e,s=!0)=>{s&&A(),b.send(e)};b.onMessage(e=>{console.log("onMessage",e),e.driver==="find"&&e.cmd==="stop"&&(c.findDriver!==null&&(clearTimeout(c.findDriver),c.findDriver=null),_.showSuccess(`Найдено драйверов: ${e.count}`),l.value={...l.value,countDrivers:e.count??0},ce()),e.driver==="update"&&e.count!==void 0&&(c.updateDrivers&&(clearTimeout(c.updateDrivers),c.updateDrivers=null),o.updateDrivers=0,l.value={...l.value,updatedDevices:e.drivers},_.showSuccess("Драйверы обновлены"),y()),e.driver==="test"&&(e.cmd==="on"||e.cmd==="off")&&e.addres!==void 0&&(clearTimeout(c.startTestDriver),c.startTestDriver=null,o.startTestDriver=0,y(),l.value={...l.value,testingDriverAddress:e.addres}),e.driver==="test"&&e.cmd==="stop"&&e.status==="ok"&&(clearTimeout(c.startTestDriver),c.startTestDriver=null,o.startTestDriver=0,_.showSuccess("Тестирование остановлено"),y(),J()),e.driver==="settyngs"&&e.cmd==="download"&&Array.isArray(e.dr_settyngs)&&(clearTimeout(c.saveSettingsDriver),c.saveSettingsDriver=null,o.saveSettingsDriver=0,_.showSuccess("Настройки обновлены"),l.value={...l.value,settingsDriver:e.dr_settyngs},y()),e.driver==="settyngs"&&e.cmd==="save"&&e.state==="ok"&&(clearTimeout(c.saveDrivers),c.saveDrivers=null,o.saveDrivers=0,y(),_.showSuccess("Настройки сохранены")),e.master==="reset"&&e.cmd==="ok"&&y(),e.master==="bus"&&e.cmd==="state"&&(clearTimeout(c.stateBus),c.stateBus=null,l.value={...l.value,stateBus:e.state}),e.master==="net"&&e.cmd==="ok"&&(clearTimeout(c.saveWIFI),clearTimeout(c.saveAP),c.saveWIFI=null,c.saveAP=null,o.saveWIFI=0,o.saveAP=0,_.showSuccess("Настройки WiFi сохранены"),y()),e.master==="scan"&&e.cmd==="stop"&&Array.isArray(e.ssid)&&(ot(e.ssid),clearTimeout(c.scanWIFI),c.scanWIFI=null,o.scanWIFI=0,_.showSuccess("SSID получены"),y()),e.rooms==="search"&&e.cmd==="download"&&(at(e.roomsArr),y())});const dt=({children:e})=>(F(),D(()=>(b.connect(l.value.socketURL),()=>{b.disconnect()}),[]),D(()=>{const s=b.onMessage(i=>{if(typeof i=="string"){if(i==="free"&&nt(),i==="busy"&&K(),i!=null&&i.startsWith("sfd")){const r=parseInt(i.slice(3),10);K(),ae(r)}if(i!=null&&i.startsWith("sfs")){const r=parseInt(i.slice(3),10);K(),ae(r)}}}),n=window.setInterval(()=>{b.send("status")},3e3);return()=>{s(),clearInterval(n)}},[]),D(()=>{l.value.socketStatus==="connected"&&(K(),fe("status",!1))},[l.value.socketStatus]),t("div",{className:tt.layoutContainer,children:[t(Fe,{}),t(je,{children:e}),t(Ze,{})]})),ut=()=>{const e=V();return D(()=>{setTimeout(()=>{e.route("/service/devices")},0)},[e]),null},ht="_panel_1hyrc_11",vt="_wifiNetworksWrapper_1hyrc_94",pt="_wifiNetworks_1hyrc_94",ft="_devices_1hyrc_159",mt="_wrapperBtn_1hyrc_167",gt="_content_1hyrc_204",_t="_settingsAndGroupWrapper_1hyrc_285",bt="_buttonTabs_1hyrc_285",wt="_buttonTabItemSettings_1hyrc_288",yt="_buttonTabItemGroup_1hyrc_289",Dt="_buttonTabItemActiveSettings_1hyrc_317",It="_buttonTabItemActiveGroup_1hyrc_318",kt="_contentBody_1hyrc_345",k={panel:ht,wifiNetworksWrapper:vt,wifiNetworks:pt,devices:ft,wrapperBtn:mt,content:gt,settingsAndGroupWrapper:_t,buttonTabs:bt,buttonTabItemSettings:wt,buttonTabItemGroup:yt,buttonTabItemActiveSettings:Dt,buttonTabItemActiveGroup:It,contentBody:kt},Ct="_overlay_1xj4c_2",St="_modal_1xj4c_16",xt="_modalContainer_1xj4c_26",Wt="_fullScreen_1xj4c_38",Tt="_closeBtn_1xj4c_45",Nt="_actions_1xj4c_61",Mt="_buttonCancel_1xj4c_69",Lt="_buttonConfirm_1xj4c_70",N={overlay:Ct,modal:St,modalContainer:xt,fullScreen:Wt,closeBtn:Tt,actions:Nt,buttonCancel:Mt,buttonConfirm:Lt},Bt={xs:"360px",sm:"480px",md:"600px",lg:"800px",xl:"1000px"};function me({open:e,onClose:s,children:n,maxWidth:i="sm",fullWidth:r=!1,fullScreen:a=!1,buttonsType:d="none",singleButtonText:u="Понятно",singleButtonAction:v,dualPrimaryButtonText:m="Да",dualPrimaryButtonAction:p,dualSecondaryButtonText:w="Нет",dualSecondaryButtonAction:T,showCloseButton:I=!0}){if(D(()=>{const L=O=>{O.key==="Escape"&&s()};return e&&document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[e]),!e)return null;const C=()=>{v?v():s()};return D(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),t("div",{className:N.overlay,onClick:s,children:t("div",{className:`${N.modal} ${a?N.fullScreen:""}`,style:{maxWidth:a||r?"100%":Bt[i]},onClick:L=>L.stopPropagation(),children:t("div",{className:N.modalContainer,children:[I&&t("button",{className:N.closeBtn,onClick:s,children:"×"}),n,d!=="none"&&t("div",{className:N.actions,children:[d==="dual"&&t($,{children:[t("button",{className:N.buttonCancel,onClick:T||s,children:w}),t("button",{className:N.buttonConfirm,onClick:p,children:m})]}),d==="single"&&t("button",{className:N.buttonConfirm,onClick:C,style:{width:"100%"},children:u})]})]})})})}function ge(){const[e,s]=f(1);return D(()=>{const n=setInterval(()=>{s(i=>i%3+1)},500);return()=>clearInterval(n)},[]),t("div",{style:{position:"relative",display:"inline-block",paddingRight:"1px",fontSize:"18px"},children:["Подождите",t("span",{style:{position:"absolute",left:"100%",top:0,marginLeft:"4px"},children:".".repeat(e)})]})}const At="_btn_cmid8_2",Pt="_lampWrapper_cmid8_50",de={btn:At,lampWrapper:Pt},_e=({width:e=251.7,height:s=255.1,scale:n=1,stripesColor:i="#FFFF00",bulbColor:r="#FFFFFF",className:a="",animateStripes:d=!0,animationSpeed:u=1e3})=>{const v=typeof e=="number"?e*n:e,m=typeof s=="number"?s*n:s,[p,w]=f(1);return D(()=>{if(!d)return;const T=setInterval(()=>{w(I=>I===1?0:1)},u);return()=>clearInterval(T)},[d,u]),t("svg",{width:v,height:m,viewBox:"0 0 251.7 255.1",class:`light-bulb-icon ${a}`,xmlns:"http://www.w3.org/2000/svg",children:[t("g",{style:{opacity:d?p:1},children:[t("path",{fill:i,d:"M27.2,44l8.1-8.1l32,32L59.2,76L27.2,44z"}),t("path",{fill:i,d:"M27.3,188.1l32-32l8.1,8.1l-32,32L27.3,188.1z"}),t("path",{fill:i,d:"M189,67.9l32-32l8,8.1l-32,32L189,67.9z"}),t("path",{fill:i,d:"M189,164l8.1-8.1l32,32L221,196L189,164z"}),t("path",{fill:i,d:"M0,110.2h45.2v11.4H0V110.2z"}),t("path",{fill:i,d:"M206.5,110.2h45.2v11.4h-45.2V110.2z"}),t("path",{fill:i,d:"M122.2,0h11.4v45.2h-11.4C122.2,45.2,122.2,0,122.2,0z"})]}),t("g",{children:t("path",{fill:r,d:`M77.5,145.9c13.7,27.4,18.9,37.3,18.9,37.3l31.5,0.1l31.4,0.1c0,0,4.6-10,19.3-37.2c8.6-14.2,11.2-30.3,7.5-45.4
          c-3.7-14.8-13.2-27.4-26.8-35.5c-9.7-5.8-20.3-8.4-30.8-8.2c-10.5-0.2-21.2,2.3-30.9,8c-13.6,8-23.2,20.5-27,35.3
          C66.5,115.5,69.1,131.7,77.5,145.9L77.5,145.9z M81.9,103.4c3-11.7,10.7-21.6,21.5-28c7.8-4.6,16.4-6.6,24.8-6.4
          c8.4-0.1,17,1.9,24.8,6.6c10.8,6.4,18.4,16.4,21.3,28.1c3,12,0,24.5-6.1,36.4c-8.7,17.2-14.5,25.3-16.5,30.5h-47.8
          c-5.3-9.8-7.5-13.2-16.3-30.8C81.8,127.9,78.9,115.4,81.9,103.4L81.9,103.4z`})}),t("path",{fill:r,d:`M147.3,207.7v17.7c-1,9.8-9.1,17.7-18.5,17.7h-1.7c-10.1,0-18.6-9-18.6-19.7v-14.6h-0.1v-1.1L147.3,207.7 M159.3,195.7H96.4
        v25.1h0.1v2.6c0,17.4,13.8,31.7,30.6,31.7h1.7c16.8,0,30.6-14.3,30.6-31.7v-2.6h-0.1V195.7L159.3,195.7z`}),t("path",{fill:i,d:"M105.9,230.3h44.5v6h-44.5C105.9,236.3,105.9,230.3,105.9,230.3z"})]})},U=({text:e="Кнопка",onClick:s,sx:n,lampVisible:i=!1})=>(F(),t("div",{className:de.btn,style:{...n},id:"device-btn-update",onClick:r=>{l.value.socketStatus!==R.CONNECTED?_.showError("Нет связи с мастером"):s==null||s(r)},children:[t("span",{style:{visibility:i?"hidden":"visible"},children:[" ",`${e}`]}),i&&t("div",{className:de.lampWrapper,children:t(_e,{animateStripes:!0,animationSpeed:1e3})})]}));function ks(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $t(e=5e3){return new Promise((s,n)=>{let i=!1;const r=window.setTimeout(()=>{i||(d==null||d(),n(new Error("таймаут проверки мастера")))},e),a=u=>{u==="free"&&(clearTimeout(r),d==null||d(),i=!0,u==="free"&&s())},d=b.onMessage(a);b.send("status")})}function M(e){return(...s)=>{A(),$t().then(()=>{e(...s)}).catch(n=>{y(),_.showError("Мастер занят, попробуйте чуть позже"),console.log("Мастер не свободен для",e.name,n)})}}const zt=()=>{const[e,s]=f("ap"),[n,i]=f(""),[r,a]=f(""),[d,u]=f(""),[v,m]=f(!1),{isMobile440:p}=F(),w=g.value.isLoadingUI||g.value.isLoadingIntervalStatus,T=re(null),[I,C]=f(!1);P(()=>{fe({master:"reset",cmd:"start"})},[]),P(()=>{d.length>0&&(st(d),l.value={...l.value,socketURL:d})},[d]);const L=P(()=>{e==="host"?n.trim()&&r.trim()?(C(!0),M(ne)({master:"net",cmd:"save",memory:"yes",mode:e,ssid:n,password:r})):alert("Пожалуйста, введите SSID и пароль"):e=="ap"&&(C(!0),M(ne)({master:"net",cmd:"save",memory:"yes",mode:e}))},[n,r,e]),O=P(()=>{i(""),w||M(pe)({master:"scan",cmd:"start"})},[w]);return D(()=>{I&&!w&&setTimeout(()=>{m(!0),C(!1)},0)},[I,w]),t("div",{className:k.devices,children:[t("div",{id:"drivers-list",className:k.content,children:t("div",{className:k.settingsAndGroupWrapper,children:[t("div",{className:k.buttonTabs,children:[t("div",{className:le(e==="ap"?k.buttonTabItemActiveSettings:k.buttonTabItemSettings),onClick:()=>s("ap"),children:p?t("span",{children:["Создать точку",t("br",{})," доступа"]}):t("span",{children:" Создать точку доступа"})}),t("div",{className:le(e==="host"?k.buttonTabItemActiveGroup:k.buttonTabItemGroup),onClick:()=>s("host"),children:p?t("span",{children:[" ","Подключиться",t("br",{})," к WiFi"]}):t("span",{children:" Подключиться к WiFi"})})]}),t("div",{className:k.contentBody,children:[e==="host"&&t("div",{className:k.panel,children:[t("div",{style:{display:"flex",flexDirection:"column",fontSize:"20px"},children:[t("div",{children:" Имя сети:"}),t("div",{ref:T,style:{position:"relative"},children:t("input",{autoComplete:"off",type:"text",id:"wifi-ssid",placeholder:"Введите имя сети",value:n,onInput:S=>{const Y=S.target.value;i(Y)}})})]}),t("label",{children:["Пароль:",t("input",{autoComplete:"off",type:"text",id:"wifi-password",placeholder:"Введите пароль",value:r,onInput:S=>a(S.target.value)})]}),t("div",{style:{display:"flex",justifyContent:"center",marginTop:"10px"},children:t(U,{text:"Сканировать WiFi",onClick:O,sx:{width:"auto"}})}),t("div",{className:k.wifiNetworksWrapper,children:t("div",{className:k.wifiNetworks,children:l.value.wifiNetworks.map(S=>t(U,{text:S,onClick:()=>i(S),sx:{width:"auto"}}))})})]}),e==="ap"&&t($,{})]})]})}),t(me,{maxWidth:"md",open:v,onClose:()=>{},buttonsType:"none",singleButtonText:"Отмена",showCloseButton:!1,singleButtonAction:()=>{},children:t($,{children:t("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",gap:"40px",padding:"16px 0",marginBottom:"20px"},children:e==="ap"?t("div",{style:{fontSize:"20px",fontWeight:"600",textAlign:"center"},children:["Режим точки доступа запущен.",t("br",{}),"Переподключитесь на сеть DALI Master по адресу:",t("p",{children:t("a",{href:`http://${z}`,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"white"},children:`http://${z}`})}),t("button",{onClick:()=>{window.location.href=`http://${z}`},style:{marginTop:"20px",padding:"12px 24px",backgroundColor:"#444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Перейти сейчас"})]}):t("div",{style:{fontSize:"20px",fontWeight:"600",textAlign:"center"},children:["Подключитесь к WiFi",t("br",{}),"Переподключитесь на сеть DALI Master по адресу:",t("p",{children:t("a",{href:`http://${z}`,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"white"},children:`http://${z}`})}),t("p",{style:{marginTop:"10px"}}),t("button",{onClick:()=>{window.location.href=`http://${z}`},style:{marginTop:"20px",padding:"12px 24px",backgroundColor:"#444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Перейти сейчас"})]})})})}),t("div",{className:k.wrapperBtn,children:w?t("div",{className:k.loadingText,children:t(ge,{})}):t($,{children:t("div",{style:{display:"flex",gap:"20px"},children:t(U,{text:e==="ap"?"Создать точку доступа":"Подключиться к сети",sx:{width:"auto"},onClick:()=>{L()}})})})})]})};function Cs(e,s){const n=[];for(let i=0;i<8;i++){const r=Math.pow(2,i);Math.floor(e/r)%2===1&&n.push(i)}for(let i=0;i<8;i++){const r=Math.pow(2,i);Math.floor(s/r)%2===1&&n.push(i+8)}return n.sort((i,r)=>i-r)}function Ss(e){let s=0,n=0;return e.forEach(i=>{i>=0&&i<8?s+=Math.pow(2,i):i>=8&&i<16&&(n+=Math.pow(2,i-8))}),{g07:s,g815:n}}const ue=({width:e=32,height:s=32,scale:n=1,color:i="#ffffff",className:r="",direction:a="right",double:d=!0,onClick:u,gap:v=8})=>{const m=typeof e=="number"?e*n:e,p=typeof s=="number"?s*n:s,w=typeof v=="number"?v*n:v,T=a==="left"?"scaleX(-1)":"scaleX(1)",I="M62.8,188.6L14.1,94.3L62.8,0h-14L0,94.3l48.7,94.3H62.8z";return t("svg",{onClick:()=>{u==null||u()},width:m,height:p,viewBox:"0 0 125.6 188.6",class:`double-arrow-icon ${r}`,xmlns:"http://www.w3.org/2000/svg",style:{transform:T,transformOrigin:"center",flexShrink:0},children:[t("defs",{children:t("style",{children:`.cls-1{fill:${i};}`})}),t("path",{class:"cls-1",d:I,transform:"translate(0,0)"}),d&&t("path",{className:"cls-1",d:I,transform:`translate(${62.8+w},0)`})]})},xs=({width:e=56,height:s=56,scale:n=1,color:i="#ffffff",className:r=""})=>{const a=typeof e=="number"?e*n:e,d=typeof s=="number"?s*n:s;return t("svg",{width:a,height:d,viewBox:"0 0 24 24",class:`speaker-icon ${r}`,xmlns:"http://www.w3.org/2000/svg",style:{fill:i,flexShrink:0},children:t("g",{children:t("path",{d:`M19.164,19.547c-1.641-2.5-3.669-3.285-6.164-3.484v1.437c0,0.534-0.208,1.036-0.586,1.414
        c-0.756,0.756-2.077,0.751-2.823,0.005l-6.293-6.207C3.107,12.523,3,12.268,3,11.999s0.107-0.524,0.298-0.712l6.288-6.203
        c0.754-0.755,2.073-0.756,2.829,0.001C12.792,5.463,13,5.965,13,6.499v1.704c4.619,0.933,8,4.997,8,9.796v1
        c0,0.442-0.29,0.832-0.714,0.958c-0.095,0.027-0.19,0.042-0.286,0.042C19.669,19.999,19.354,19.834,19.164,19.547z
        M12.023,14.011c2.207,0.056,4.638,0.394,6.758,2.121c-0.768-3.216-3.477-5.702-6.893-6.08C11.384,9.996,11,10,11,10V6.503
        l-5.576,5.496l5.576,5.5V14C11,14,11.738,14.01,12.023,14.011z`})})})},Et="_container_1t5q4_2",Rt="_channelNumber_1t5q4_29",Ft="_indicators_1t5q4_58",Ot="_dot_1t5q4_68",Ht="_dashes_1t5q4_81",jt="_name_1t5q4_87",Gt="_button_1t5q4_97",Ut="_red_1t5q4_121",Vt="_green_1t5q4_125",qt="_blue_1t5q4_129",Kt="_white_1t5q4_133",Qt="_warm_1t5q4_137",Jt="_cold_1t5q4_141",G={container:Et,channelNumber:Rt,indicators:Ft,dot:Ot,dashes:Ht,name:jt,button:Gt,red:Ut,green:Vt,blue:qt,white:Kt,warm:Qt,cold:Jt},Xt="_container_st7jg_1",Yt="_label_st7jg_11",Zt="_triangle_st7jg_21",se={container:Xt,label:Yt,triangle:Zt};function he({led:e}){return t("div",{className:se.container,children:[e&&t("span",{className:se.label,children:"LED"}),t("div",{className:se.triangle})]})}const es=({size:e=100,color:s="#fef7cb",strokeWidth:n=2})=>t("svg",{width:e,height:e*56/100,viewBox:"0 0 100 56",xmlns:"http://www.w3.org/2000/svg",children:t("g",{stroke:s,"stroke-width":n,"stroke-linecap":"round",fill:"none",children:[t("line",{x1:"2",y1:"35",x2:"30",y2:"35"}),t("line",{x1:"30",y1:"35",x2:"50",y2:"17"}),t("line",{x1:"56",y1:"35",x2:"95",y2:"35"})]})}),ts=({width:e=180,height:s=120,scale:n=1,mainColor:i="#ffeb3b",backColor:r="#ffeb3b",className:a=""})=>{const d=typeof e=="number"?e*n:e,u=typeof s=="number"?s*n:s;return t("svg",{width:d,height:u,viewBox:"0 0 180 120",className:`bulb-group ${a}`,xmlns:"http://www.w3.org/2000/svg",children:[t("g",{transform:"translate(30, 15) scale(0.7)",children:t("path",{d:"M69.294,11.442c-6.788-5.594-15.724-7.82-24.512-6.109C32.951,7.636,23.449,17.623,21.675,29.62c-1.447,9.79,2.031,19.567,9.304,26.155c3.277,2.968,5.254,7.243,5.568,12.039c0.006,0.087,0.023,0.171,0.042,0.254v15.039c0,0.828,0.671,1.5,1.5,1.5h1.495c0.609,4.359,3.813,7.697,7.672,7.697h6.81c3.859,0,7.062-3.338,7.671-7.697h1.495c0.828,0,1.5-0.672,1.5-1.5V67.828c0-0.003,0.001-0.006,0.001-0.01c0-4.462,2.026-8.771,5.706-12.133c6.062-5.538,9.538-13.415,9.538-21.61C79.978,25.287,76.084,17.037,69.294,11.442z M45.357,39.91h-2.305c-1.271,0-2.305-1.034-2.305-2.305s1.034-2.305,2.305-2.305s2.305,1.034,2.305,2.305V39.91z M55.966,37.605c0-1.271,1.034-2.305,2.306-2.305c1.271,0,2.305,1.034,2.305,2.305s-1.034,2.305-2.305,2.305h-2.303L55.966,37.605z M55.063,69.211h6.67v12.396H60.36c-0.003,0-0.006-0.001-0.01-0.001s-0.006,0.001-0.01,0.001H40.982c-0.003,0-0.006-0.001-0.01-0.001s-0.006,0.001-0.01,0.001H39.59V69.211h14.366 M48.357,66.211V42.91h4.617l0.034,23.301H48.357z M54.066,89.304h-6.81c-2.238,0-4.117-2.004-4.637-4.697h16.083C58.183,87.3,56.304,89.304,54.066,89.304z M68.416,53.471c-3.872,3.537-6.164,8.013-6.593,12.74h-5.816L55.974,42.91h2.298c2.925,0,5.305-2.38,5.305-5.305c0-2.925-2.38-5.305-5.305-5.305c-2.926,0-5.306,2.38-5.306,5.307l0.003,2.303h-4.612v-2.305c0-2.925-2.38-5.305-5.305-5.305c-2.925,0-5.305,2.38-5.305,5.305c0,2.925,2.38,5.305,5.305,5.305h2.305v23.301h-5.972c-0.636-5.005-2.864-9.465-6.393-12.66c-6.528-5.914-9.65-14.696-8.35-23.493c1.591-10.76,10.108-19.716,20.712-21.781c7.908-1.538,15.938,0.458,22.03,5.48c6.096,5.023,9.592,12.429,9.592,20.319C76.978,41.43,73.857,48.5,68.416,53.471z",fill:r,opacity:"0.8"})}),t("g",{transform:"translate(105, 15) scale(0.7)",children:t("path",{d:"M69.294,11.442c-6.788-5.594-15.724-7.82-24.512-6.109C32.951,7.636,23.449,17.623,21.675,29.62c-1.447,9.79,2.031,19.567,9.304,26.155c3.277,2.968,5.254,7.243,5.568,12.039c0.006,0.087,0.023,0.171,0.042,0.254v15.039c0,0.828,0.671,1.5,1.5,1.5h1.495c0.609,4.359,3.813,7.697,7.672,7.697h6.81c3.859,0,7.062-3.338,7.671-7.697h1.495c0.828,0,1.5-0.672,1.5-1.5V67.828c0-0.003,0.001-0.006,0.001-0.01c0-4.462,2.026-8.771,5.706-12.133c6.062-5.538,9.538-13.415,9.538-21.61C79.978,25.287,76.084,17.037,69.294,11.442z M45.357,39.91h-2.305c-1.271,0-2.305-1.034-2.305-2.305s1.034-2.305,2.305-2.305s2.305,1.034,2.305,2.305V39.91z M55.966,37.605c0-1.271,1.034-2.305,2.306-2.305c1.271,0,2.305,1.034,2.305,2.305s-1.034,2.305-2.305,2.305h-2.303L55.966,37.605z M55.063,69.211h6.67v12.396H60.36c-0.003,0-0.006-0.001-0.01-0.001s-0.006,0.001-0.01,0.001H40.982c-0.003,0-0.006-0.001-0.01-0.001s-0.006,0.001-0.01,0.001H39.59V69.211h14.366 M48.357,66.211V42.91h4.617l0.034,23.301H48.357z M54.066,89.304h-6.81c-2.238,0-4.117-2.004-4.637-4.697h16.083C58.183,87.3,56.304,89.304,54.066,89.304z M68.416,53.471c-3.872,3.537-6.164,8.013-6.593,12.74h-5.816L55.974,42.91h2.298c2.925,0,5.305-2.38,5.305-5.305c0-2.925-2.38-5.305-5.305-5.305c-2.926,0-5.306,2.38-5.306,5.307l0.003,2.303h-4.612v-2.305c0-2.925-2.38-5.305-5.305-5.305c-2.925,0-5.305,2.38-5.305,5.305c0,2.925,2.38,5.305,5.305,5.305h2.305v23.301h-5.972c-0.636-5.005-2.864-9.465-6.393-12.66c-6.528-5.914-9.65-14.696-8.35-23.493c1.591-10.76,10.108-19.716,20.712-21.781c7.908-1.538,15.938,0.458,22.03,5.48c6.096,5.023,9.592,12.429,9.592,20.319C76.978,41.43,73.857,48.5,68.416,53.471z",fill:r,opacity:"0.8"})}),t("g",{transform:"translate(60, 5) scale(0.85)",children:t("path",{d:"M69.294,11.442c-6.788-5.594-15.724-7.82-24.512-6.109C32.951,7.636,23.449,17.623,21.675,29.62c-1.447,9.79,2.031,19.567,9.304,26.155c3.277,2.968,5.254,7.243,5.568,12.039c0.006,0.087,0.023,0.171,0.042,0.254v15.039c0,0.828,0.671,1.5,1.5,1.5h1.495c0.609,4.359,3.813,7.697,7.672,7.697h6.81c3.859,0,7.062-3.338,7.671-7.697h1.495c0.828,0,1.5-0.672,1.5-1.5V67.828c0-0.003,0.001-0.006,0.001-0.01c0-4.462,2.026-8.771,5.706-12.133c6.062-5.538,9.538-13.415,9.538-21.61C79.978,25.287,76.084,17.037,69.294,11.442z M45.357,39.91h-2.305c-1.271,0-2.305-1.034-2.305-2.305s1.034-2.305,2.305-2.305s2.305,1.034,2.305,2.305V39.91z M55.966,37.605c0-1.271,1.034-2.305,2.306-2.305c1.271,0,2.305,1.034,2.305,2.305s-1.034,2.305-2.305,2.305h-2.303L55.966,37.605z M55.063,69.211h6.67v12.396H60.36c-0.003,0-0.006-0.001-0.01-0.001s-0.006,0.001-0.01,0.001H40.982c-0.003,0-0.006-0.001-0.01-0.001s-0.006,0.001-0.01,0.001H39.59V69.211h14.366 M48.357,66.211V42.91h4.617l0.034,23.301H48.357z M54.066,89.304h-6.81c-2.238,0-4.117-2.004-4.637-4.697h16.083C58.183,87.3,56.304,89.304,54.066,89.304z M68.416,53.471c-3.872,3.537-6.164,8.013-6.593,12.74h-5.816L55.974,42.91h2.298c2.925,0,5.305-2.38,5.305-5.305c0-2.925-2.38-5.305-5.305-5.305c-2.926,0-5.306,2.38-5.306,5.307l0.003,2.303h-4.612v-2.305c0-2.925-2.38-5.305-5.305-5.305c-2.925,0-5.305,2.38-5.305,5.305c0,2.925,2.38,5.305,5.305,5.305h2.305v23.301h-5.972c-0.636-5.005-2.864-9.465-6.393-12.66c-6.528-5.914-9.65-14.696-8.35-23.493c1.591-10.76,10.108-19.716,20.712-21.781c7.908-1.538,15.938,0.458,22.03,5.48c6.096,5.023,9.592,12.429,9.592,20.319C76.978,41.43,73.857,48.5,68.416,53.471z",fill:i})})]})},ss="_btn_15cnz_2",ns="_lampWrapper_15cnz_51",ve={btn:ss,lampWrapper:ns},X=({text:e="Кнопка",onClick:s,sx:n,lampVisible:i=!1,disabled:r=!1})=>{const{isMobile380:a,isMobile360:d,isMobile340:u}=F(),v=()=>u?28:d?30:36;return t("div",{className:ve.btn,style:{...n},id:"device-btn-update",onClick:m=>{l.value.socketStatus!==R.CONNECTED?_.showError("Нет связи с мастером"):r||s==null||s(m)},children:[t("span",{style:{visibility:i?"hidden":"visible"},children:[" ",`${e}`]}),i&&t("div",{className:ve.lampWrapper,children:t(_e,{animateStripes:!0,height:v(),width:v(),animationSpeed:1e3})})]})},is={2:["warm","cold"],4:"triangle",6:"triangleWithLed",7:"rele",96:["red","green","blue"],98:["red","green","blue","white"],128:["red","green","blue","cold","warm"],group:"group"};function rs({address:e,editPencil:s=!1,type:n,onClick:i,onClickTest:r,onClickSettings:a,lampVisible:d,disabled:u=!1,...v}){const m=is[`${n}`];return t("div",{className:`${G.container}`,...v,children:[t("span",{className:G.channelNumber,children:e}),t("div",{className:G.indicators,children:[Array.isArray(m)&&m.map((p,w)=>t("span",{className:`${G.dot} ${G[p]}`},p+w)),m==="triangleWithLed"&&t(he,{led:!0}),m==="triangle"&&t(he,{led:!1}),m==="rele"&&t(es,{size:56,strokeWidth:5}),m==="group"&&t(ts,{})]}),t(X,{disabled:u,text:"Настройки",sx:{padding:"9px 7px"},onClick:p=>{a(),p.stopPropagation()}}),t(X,{disabled:u,text:"Тест",lampVisible:d,sx:{padding:"9px 7px"},onClick:p=>{r==null||r(),p.stopPropagation()}})]})}const cs="_driversList_nutbd_3",os="_loadingText_nutbd_28",ls="_devices_nutbd_44",as="_wrapperBtn_nutbd_55",ds="_totalCount_nutbd_94",us="_paginationBar2_nutbd_110",hs="_arrowPagination_nutbd_123",vs="_dotsWrapper_nutbd_150",ps="_dots_nutbd_150",fs="_dot_nutbd_150",ms="_active_nutbd_174",W={driversList:cs,loadingText:os,devices:ls,wrapperBtn:as,totalCount:ds,paginationBar2:us,arrowPagination:hs,dotsWrapper:vs,dots:ps,dot:fs,active:ms},gs=e=>new Promise(s=>setTimeout(s,e));function _s(){const e=re(null),{route:s}=V(),[n,i]=f(!1),[r,a]=f(1),[d,u]=f([]),[v,m]=f(1),[p,w]=f(8);F();const[T,I]=f(!1),C=g.value.isLoadingUI||g.value.isLoadingIntervalStatus,L=l.value.socketStatus,O=P(()=>{i(!0)},[]),S=P(()=>{M(ce)()},[]),Y=async h=>{if(l.value.testingDriverAddress===h){Z();return}l.value.testingDriverAddress!==void 0?(Z(),await gs(200),M(Q)({driver:"test",cmd:"start",addres:+h})):M(Q)({driver:"test",cmd:"start",addres:+h})},Z=()=>{if(l.value.testingDriverAddress===void 0)return;M(Q)({driver:"test",cmd:"stop",addres:+l.value.testingDriverAddress})};D(()=>{if(e.current){const h=e.current.getBoundingClientRect().height,x=60,H=16,ee=Math.round((h-20+H)/(x+H)),we=Math.max(1,ee);w(we)}},[e.current]),D(()=>{const h=Object.keys(l.value.updatedDevices);if(h.length>0){const x=Math.ceil(h.length/p);m(x);const H=(r-1)*p,oe=H+p,ee=h.slice(H,oe);u(ee)}else u([]),m(1)},[l.value.updatedDevices,r,p]),D(()=>()=>{Z()},[]),D(()=>{if(l.value.socketStatus==="connected"){const x=setTimeout(()=>{I(!1)},2e3);return()=>clearTimeout(x)}else I(!0)},[l.value.socketStatus]);const be=Object.keys(l.value.updatedDevices).length;return t("div",{className:W.devices,children:[t("div",{id:"drivers-list",className:W.driversList,ref:e,children:d.map(h=>t(rs,{disabled:C,lampVisible:+l.value.updatedDevices[h][0]===l.value.testingDriverAddress,type:l.value.updatedDevices[h][1],address:l.value.updatedDevices[h][0],onClickSettings:()=>{M(s)(`/service/devices/${l.value.updatedDevices[h][0]}`)},onClickTest:()=>{Y(+l.value.updatedDevices[h][0])}},l.value.updatedDevices[h][0]))}),t("div",{className:W.paginationBar2,children:[t("div",{style:{marginRight:"5px",visibility:r===1?"hidden":"visible",fontSize:"38px",left:"0"},className:W.arrowPagination,onClick:()=>a(h=>Math.max(h-1,1)),children:t(ue,{direction:"right"})}),t("div",{style:{marginLeft:"5px",visibility:r===v?"hidden":"visible",fontSize:"38px",right:"0"},className:W.arrowPagination,onClick:()=>a(h=>Math.min(h+1,v)),children:t(ue,{direction:"left"})}),t("div",{className:W.totalCount,children:be}),t("div",{className:W.dotsWrapper,children:v>0&&t("div",{className:W.dots,children:Array.from({length:v}).map((h,x)=>t("span",{className:`${W.dot} ${r===x+1?W.active:""}`,onClick:()=>a(x+1)},x))})})]}),t("div",{className:W.wrapperBtn,children:C&&L==="connected"?t("div",{className:W.loadingText,children:t(ge,{})}):t($,{children:[t(U,{text:"Обновить",onClick:S}),t(U,{text:"Поиск ",onClick:O})]})}),t(me,{maxWidth:"md",open:n,onClose:()=>{},buttonsType:"single",singleButtonText:"Отмена",showCloseButton:!1,singleButtonAction:()=>{i(!1)},children:t($,{children:t("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",gap:"40px",padding:"16px 0",marginBottom:"20px"},children:[t("div",{style:{display:"flex",flexDirection:"column"},children:[t(X,{text:"Новый поиск",onClick:()=>{M(it)(),i(!1)}}),t("span",{style:{marginTop:"10px"},children:"Все адреса и настройки будут удалены"})]}),t("div",{style:{display:"flex",flexDirection:"column"},children:[t(X,{text:"Добавить новый драйвер",onClick:()=>{S(),i(!1)}}),t("span",{style:{marginTop:"10px"},children:"Все адреса и настройки будут сохранены"})]})]})})})]})}const bs=()=>(F(),t(_s,{}));function ws(){return t(ke,{children:t(dt,{children:t(Ie,{children:[t(q,{path:"/service/devices",component:bs}),t(q,{path:"/service/devices/:id",component:Ce}),t(q,{path:"/settings",component:zt}),t(q,{default:!0,component:ut})]})})})}De(t(ws,{}),document.getElementById("app"));export{ue as A,U as B,ge as L,xs as S,A as a,fe as b,l as c,ct as d,rt as e,ks as f,Ss as g,Cs as p,g as s,F as u,M as w};
